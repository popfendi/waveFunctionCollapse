# Wave Function Collapse with Text

This script is a demo implimentation of the wave function collapse algorithm used for generating tilemap environments based on a set of constraints.

Created to help myself understand the algorithm, I also wanted to test and see if there was a way to provide a seed to make the result deterministic.

## Usage

running the script with:

```
    seed = 1
    generator = WaveFunctionCollapse(seed)

    tile_map = generator.generate(35, 20)

    print(f"Map generated with seed: {seed}")
    print(generator.render_map(tile_map))
```

will print:

```
Map generated with seed: 1
ğŸ’§ğŸŒ±ğŸŒ±ğŸŒ·ğŸŒ²ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸŒ²ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ·ğŸŒ±ğŸ–ï¸ğŸŒ²ğŸŒ²ğŸŒ±ğŸŒ·ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ²ğŸŒ·ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸ–ï¸
ğŸ–ï¸ğŸ–ï¸ğŸŒ²ğŸŒ²ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ²ğŸŒ²ğŸŒ±ğŸŒ·ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ²ğŸŒ²ğŸŒ²ğŸŒ±ğŸŒ·ğŸŒ·ğŸŒ±ğŸŒ±ğŸŒ²ğŸŒ²ğŸŒ±ğŸŒ²ğŸŒ·ğŸŒ²ğŸ–ï¸
ğŸŒ²ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸ’§ğŸ’§ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ±ğŸŒ±ğŸ’§ğŸ’§ğŸ’§ğŸŒ±ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ·ğŸŒ±ğŸŒ±ğŸŒ²ğŸŒ²ğŸŒ²ğŸŒ²ğŸŒ±
ğŸŒ±ğŸŒ·ğŸŒ²ğŸŒ±ğŸ–ï¸ğŸ’§ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ·ğŸŒ²ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸŒ·ğŸŒ±ğŸŒ±ğŸŒ²ğŸŒ±ğŸ’§ğŸ–ï¸ğŸŒ±ğŸŒ²ğŸŒ²ğŸŒ±ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ·ğŸŒ²
ğŸŒ²ğŸŒ·ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸ’§ğŸ’§ğŸ’§ğŸ’§ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸ’§ğŸ’§ğŸ–ï¸ğŸŒ·ğŸŒ±ğŸŒ²ğŸŒ²ğŸŒ±ğŸ’§ğŸ’§ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ±
ğŸŒ²ğŸŒ±ğŸ–ï¸ğŸ’§ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸ’§ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸ’§ğŸ’§ğŸ–ï¸ğŸ’§ğŸ’§ğŸ’§ğŸŒ±ğŸ–ï¸ğŸŒ²ğŸŒ±ğŸŒ±ğŸŒ±ğŸ’§ğŸ’§ğŸ’§ğŸ–ï¸ğŸ’§ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±
ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸ’§ğŸ–ï¸ğŸ’§ğŸ’§ğŸŒ±ğŸŒ²ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸŒ·ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ·ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸ’§ğŸ’§ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ²ğŸŒ±ğŸ–ï¸ğŸŒ²
ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸ–ï¸ğŸ’§ğŸ–ï¸ğŸŒ²ğŸŒ²ğŸŒ²ğŸŒ²ğŸŒ²ğŸŒ±ğŸ’§ğŸ’§ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ·ğŸŒ·ğŸŒ±ğŸ’§ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ²ğŸŒ·ğŸ–ï¸ğŸ–ï¸
ğŸŒ·ğŸŒ±ğŸŒ±ğŸŒ·ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ²ğŸ–ï¸ğŸ’§ğŸ’§ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸ’§ğŸ–ï¸ğŸŒ±ğŸŒ²ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸
ğŸŒ±ğŸŒ²ğŸŒ²ğŸŒ²ğŸŒ±ğŸŒ²ğŸŒ²ğŸŒ±ğŸŒ²ğŸ–ï¸ğŸŒ±ğŸŒ·ğŸŒ±ğŸŒ²ğŸŒ±ğŸ’§ğŸ’§ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸŒ±ğŸŒ·ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ·ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ·ğŸ–ï¸ğŸŒ·ğŸŒ±
ğŸŒ·ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ·ğŸŒ·ğŸŒ·ğŸŒ·ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ·ğŸ–ï¸ğŸ’§ğŸ’§ğŸ’§ğŸ’§ğŸ’§ğŸ’§ğŸŒ±ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸ’§ğŸŒ±ğŸŒ²
ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ±ğŸ’§ğŸ–ï¸ğŸŒ·ğŸŒ²ğŸŒ±ğŸ–ï¸ğŸ’§ğŸ’§ğŸ’§ğŸ’§ğŸ’§ğŸ’§ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ²
ğŸŒ±ğŸ–ï¸ğŸ’§ğŸ’§ğŸ’§ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ±ğŸŒ±ğŸ’§ğŸ–ï¸ğŸŒ²ğŸŒ±ğŸ’§ğŸ’§ğŸ–ï¸ğŸ’§ğŸ’§ğŸ–ï¸ğŸ’§ğŸ–ï¸ğŸŒ²ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ·ğŸŒ±ğŸŒ²
ğŸ–ï¸ğŸ’§ğŸ’§ğŸ’§ğŸ’§ğŸ–ï¸ğŸŒ±ğŸŒ²ğŸŒ²ğŸŒ±ğŸ’§ğŸŒ±ğŸŒ²ğŸŒ±ğŸ’§ğŸ’§ğŸ–ï¸ğŸ’§ğŸ’§ğŸ’§ğŸ’§ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸ’§ğŸŒ±
ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ·ğŸ–ï¸ğŸŒ±ğŸ–ï¸ğŸ’§ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ±ğŸ’§ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸ’§ğŸ–ï¸ğŸŒ²ğŸŒ±ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸ’§ğŸŒ±ğŸŒ±ğŸŒ²ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±
ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ·ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ·ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸŒ²ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸ’§ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸŒ²ğŸŒ±ğŸŒ²
ğŸŒ±ğŸŒ²ğŸŒ²ğŸŒ²ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ·ğŸŒ·ğŸŒ²ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸ’§ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ±ğŸŒ·ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸ’§ğŸŒ±ğŸŒ²ğŸŒ±
ğŸŒ²ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ·ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸ’§ğŸ’§ğŸ’§ğŸ–ï¸ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸ’§ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸ’§ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸ–ï¸
ğŸŒ·ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ·ğŸŒ±ğŸ’§ğŸ’§ğŸ’§ğŸ–ï¸ğŸŒ·ğŸŒ±ğŸŒ²ğŸŒ²ğŸŒ±ğŸ’§ğŸ’§ğŸŒ±ğŸŒ±ğŸŒ±ğŸ’§ğŸ’§ğŸ’§ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸ–ï¸ğŸŒ±ğŸŒ·ğŸŒ·ğŸŒ±ğŸŒ±ğŸŒ²ğŸŒ±
ğŸŒ²ğŸŒ±ğŸŒ·ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸ’§ğŸ’§ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸ’§ğŸŒ±ğŸŒ±ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸ–ï¸ğŸ’§ğŸ’§ğŸŒ±ğŸŒ±ğŸ–ï¸ğŸŒ±ğŸŒ±ğŸŒ²ğŸŒ±ğŸŒ·ğŸŒ²
```

adjusting the rules, tiles and seed will produce different results:

```
   self.tiles = {
            'grass': 'ğŸŒ±',
            'water': 'ğŸ’§',
            'tree': 'ğŸŒ²',
            'sand': 'ğŸ–ï¸',
            'flower': 'ğŸŒ·'
        }

        self.rules = {
            'grass': {'grass': 0.8, 'water': 0.1, 'tree': 0.6, 'sand': 0.3, 'flower': 0.4},
            'flower': {'grass': 0.4, 'water': 0.0, 'tree': 0.2, 'sand': 0.1, 'flower': 0.1},
            'water': {'grass': 0.1, 'water': 0.9, 'tree': 0.0, 'sand': 0.4, 'flower': 0.0},
            'tree': {'grass': 0.6, 'water': 0.0, 'tree': 0.4, 'sand': 0.1, 'flower': 0.2},
            'sand': {'grass': 0.3, 'water': 0.4, 'tree': 0.1, 'sand': 0.7, 'flower': 0.1},
        }
```

tiles can be any string not just emojis, but keep the text length == 1 to ensure the grid.